"use strict";(self.webpackChunksmartpad_docs=self.webpackChunksmartpad_docs||[]).push([[633],{12(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"specs/ranges","title":"Range List Generation in Smartpad (Updated Spec \u2014 Rudimentary v1 + Extensions)","description":"This spec defines **range-generated lists** (e.g., `1..5`) as an incremental feature to implement before the full list spec, while adding two key unit-related behaviors and a forward-looking plan for date/time ranges.","source":"@site/docs/specs/ranges.md","sourceDirName":"specs","slug":"/specs/ranges","permalink":"/docs/specs/ranges","draft":false,"unlisted":false,"editUrl":"https://github.com/nmaxcom/SmartPad/tree/main/website/docs/specs/ranges.md","tags":[],"version":"current","frontMatter":{"title":"Range List Generation in Smartpad (Updated Spec \u2014 Rudimentary v1 + Extensions)","description":"This spec defines **range-generated lists** (e.g., `1..5`) as an incremental feature to implement before the full list spec, while adding two key unit-related behaviors and a forward-looking plan for date/time ranges."},"sidebar":"docsSidebar","previous":{"title":"Smartpad \u2014 Interactive Dependency Views (Plotting & Exploration)","permalink":"/docs/specs/plotting"},"next":{"title":"SmartPad Result Chips + Value Graph Spec (V2)","permalink":"/docs/specs/resultchipsandvaluegraph"}}');var t=s(4848),l=s(8453);const r={title:"Range List Generation in Smartpad (Updated Spec \u2014 Rudimentary v1 + Extensions)",description:"This spec defines **range-generated lists** (e.g., `1..5`) as an incremental feature to implement before the full list spec, while adding two key unit-related behaviors and a forward-looking plan for date/time ranges."},a=void 0,d={},o=[{value:"Overview: what range-generated lists are and why they matter",id:"overview-what-range-generated-lists-are-and-why-they-matter",level:2},{value:"Design decision: use <code>..</code> (not <code>to</code>) for range generation",id:"design-decision-use--not-to-for-range-generation",level:2},{value:"Scope",id:"scope",level:2},{value:"v1 (implement first)",id:"v1-implement-first",level:3},{value:"v1 additions (unit-related)",id:"v1-additions-unit-related",level:3},{value:"Not supported in v1 (must error)",id:"not-supported-in-v1-must-error",level:3},{value:"Syntax",id:"syntax",level:2},{value:"Numeric range (unitless integers)",id:"numeric-range-unitless-integers",level:3},{value:"Postfix <code>to</code> behavior (unit annotation or conversion)",id:"postfix-to-behavior-unit-annotation-or-conversion",level:3},{value:"Semantics &amp; rules (Numeric ranges)",id:"semantics--rules-numeric-ranges",level:2},{value:"Rule 1 \u2014 Inclusive endpoints (if aligned)",id:"rule-1--inclusive-endpoints-if-aligned",level:3},{value:"Tests",id:"tests",level:4},{value:"Rule 2 \u2014 Default step",id:"rule-2--default-step",level:3},{value:"Tests",id:"tests-1",level:4},{value:"Rule 3 \u2014 Step must not be 0",id:"rule-3--step-must-not-be-0",level:3},{value:"Tests",id:"tests-2",level:4},{value:"Rule 4 \u2014 Step direction must match range direction",id:"rule-4--step-direction-must-match-range-direction",level:3},{value:"Tests",id:"tests-3",level:4},{value:"Rule 5 \u2014 Types: integers only in v1",id:"rule-5--types-integers-only-in-v1",level:3},{value:"Tests",id:"tests-4",level:4},{value:"Postfix <code>to</code> on lists (Unit annotation vs conversion)",id:"postfix-to-on-lists-unit-annotation-vs-conversion",level:2},{value:"Rule 6 \u2014 <code>to &lt;unit&gt;</code> on a unitless list <strong>annotates</strong> each element",id:"rule-6--to-unit-on-a-unitless-list-annotates-each-element",level:3},{value:"Tests",id:"tests-5",level:4},{value:"Rule 7 \u2014 <code>to &lt;unit&gt;</code> on a unit-bearing list <strong>converts</strong> each element (same dimension)",id:"rule-7--to-unit-on-a-unit-bearing-list-converts-each-element-same-dimension",level:3},{value:"Tests (heterogeneous units, same dimension)",id:"tests-heterogeneous-units-same-dimension",level:4},{value:"Tests (incompatible dimension)",id:"tests-incompatible-dimension",level:4},{value:"Mixed unitless + unit-bearing list (recommended strict behavior)",id:"mixed-unitless--unit-bearing-list-recommended-strict-behavior",level:4},{value:"Maximum list size guardrail (Setting)",id:"maximum-list-size-guardrail-setting",level:2},{value:"Rule 8 \u2014 Range generation must obey a configurable maximum length",id:"rule-8--range-generation-must-obey-a-configurable-maximum-length",level:3},{value:"Tests (assumes setting = 10000)",id:"tests-assumes-setting--10000",level:4},{value:"Composition with existing features",id:"composition-with-existing-features",level:2},{value:"Tests",id:"tests-6",level:4},{value:"Proposed extension: date and time ranges",id:"proposed-extension-date-and-time-ranges",level:2},{value:"Goals",id:"goals",level:3},{value:"Recommended approach",id:"recommended-approach",level:3},{value:"Date range (daily by default, optional)",id:"date-range-daily-by-default-optional",level:4},{value:"Weekly stepping",id:"weekly-stepping",level:4},{value:"Monthly stepping (calendar-aware)",id:"monthly-stepping-calendar-aware",level:4},{value:"Month-end behavior (must be defined)",id:"month-end-behavior-must-be-defined",level:4},{value:"Time-of-day range (same day)",id:"time-of-day-range-same-day",level:4},{value:"Datetime range",id:"datetime-range",level:4},{value:"Date/time rules (proposed)",id:"datetime-rules-proposed",level:3},{value:"Rule D1 \u2014 Step must be a duration unit",id:"rule-d1--step-must-be-a-duration-unit",level:4},{value:"Rule D2 \u2014 Inclusive endpoint if aligned",id:"rule-d2--inclusive-endpoint-if-aligned",level:4},{value:"Rule D3 \u2014 Guardrail applies",id:"rule-d3--guardrail-applies",level:4},{value:"Rule D4 \u2014 Timezone behavior (must be explicit)",id:"rule-d4--timezone-behavior-must-be-explicit",level:4},{value:"Rule D5 \u2014 DST transitions (must be defined for datetimes)",id:"rule-d5--dst-transitions-must-be-defined-for-datetimes",level:4},{value:"Minimal test suite summary (Numeric v1 + unit postfix)",id:"minimal-test-suite-summary-numeric-v1--unit-postfix",level:2},{value:"Numeric range basics",id:"numeric-range-basics",level:3},{value:"Unit annotation on unitless lists",id:"unit-annotation-on-unitless-lists",level:3},{value:"Unit conversion on unit-bearing lists",id:"unit-conversion-on-unit-bearing-lists",level:3},{value:"Guardrail setting",id:"guardrail-setting",level:3},{value:"Notes for implementation order (recommended)",id:"notes-for-implementation-order-recommended",level:2}];function c(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Source: ",(0,t.jsx)(n.code,{children:"docs/Specs/Ranges.spec.md"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["This spec defines ",(0,t.jsx)(n.strong,{children:"range-generated lists"})," (e.g., ",(0,t.jsx)(n.code,{children:"1..5"}),") as an incremental feature to implement before the full list spec, while adding two key unit-related behaviors and a forward-looking plan for date/time ranges."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"overview-what-range-generated-lists-are-and-why-they-matter",children:"Overview: what range-generated lists are and why they matter"}),"\n",(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.strong,{children:"range-generated list"})," is a compact way to create a list of evenly spaced values without typing them one by one."]}),"\n",(0,t.jsx)(n.p,{children:"Useful for:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Finance: quantities ",(0,t.jsx)(n.code,{children:"1..N"}),", scenario sweeps, sensitivity checks"]}),"\n",(0,t.jsx)(n.li,{children:"Science/engineering: parameter sweeps, sampling indices"}),"\n",(0,t.jsx)(n.li,{children:"Everyday: sequences, tables, repeated planning values"}),"\n",(0,t.jsx)(n.li,{children:"(Extension) Scheduling: date sequences, time slots"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Range lists should feel like: ",(0,t.jsx)(n.strong,{children:"\u201cmake a list by describing its pattern.\u201d"})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h2,{id:"design-decision-use--not-to-for-range-generation",children:["Design decision: use ",(0,t.jsx)(n.code,{children:".."})," (not ",(0,t.jsx)(n.code,{children:"to"}),") for range generation"]}),"\n",(0,t.jsxs)(n.p,{children:["Smartpad uses ",(0,t.jsx)(n.code,{children:"to"})," for ",(0,t.jsx)(n.strong,{children:"unit conversion / unit annotation"}),". Using ",(0,t.jsx)(n.code,{children:"to"})," for ranges would be ambiguous."]}),"\n",(0,t.jsxs)(n.p,{children:["Therefore range generation uses ",(0,t.jsx)(n.code,{children:".."}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"1..5"})," generates ",(0,t.jsx)(n.code,{children:"1, 2, 3, 4, 5"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"0..10 step 2"})," generates ",(0,t.jsx)(n.code,{children:"0, 2, 4, 6, 8, 10"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["This also aligns with slicing syntax ",(0,t.jsx)(n.code,{children:"xs[1..3]"})," (span semantics)."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"scope",children:"Scope"}),"\n",(0,t.jsx)(n.h3,{id:"v1-implement-first",children:"v1 (implement first)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Unitless ",(0,t.jsx)(n.strong,{children:"integer"})," start/end"]}),"\n",(0,t.jsxs)(n.li,{children:["Optional integer ",(0,t.jsx)(n.code,{children:"step"})]}),"\n",(0,t.jsx)(n.li,{children:"Inclusive endpoints when aligned by step"}),"\n",(0,t.jsx)(n.li,{children:"Increasing and decreasing ranges"}),"\n",(0,t.jsx)(n.li,{children:"Works as a list value in expressions and functions"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"v1-additions-unit-related",children:"v1 additions (unit-related)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Unit annotation of generated unitless lists via ",(0,t.jsx)(n.code,{children:"to <unit>"})]}),"\n",(0,t.jsxs)(n.li,{children:["Unit conversion of unit-bearing lists via ",(0,t.jsx)(n.code,{children:"to <unit>"}),", when all elements share dimension compatibility"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"not-supported-in-v1-must-error",children:"Not supported in v1 (must error)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Decimal endpoints or decimal steps"}),"\n",(0,t.jsxs)(n.li,{children:["Unit-bearing endpoints directly in the range literal (e.g., ",(0,t.jsx)(n.code,{children:"1 kg..5 kg"}),")"]}),"\n",(0,t.jsx)(n.li,{children:"Date/time endpoints in range literals (this spec includes a proposed extension below)"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,t.jsx)(n.h3,{id:"numeric-range-unitless-integers",children:"Numeric range (unitless integers)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"<start>..<end>\n<start>..<end> step <step>\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"postfix-to-behavior-unit-annotation-or-conversion",children:["Postfix ",(0,t.jsx)(n.code,{children:"to"})," behavior (unit annotation or conversion)"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"<list_expr> to <unit>\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"semantics--rules-numeric-ranges",children:"Semantics & rules (Numeric ranges)"}),"\n",(0,t.jsx)(n.h3,{id:"rule-1--inclusive-endpoints-if-aligned",children:"Rule 1 \u2014 Inclusive endpoints (if aligned)"}),"\n",(0,t.jsxs)(n.p,{children:["A range includes ",(0,t.jsx)(n.code,{children:"start"})," and includes ",(0,t.jsx)(n.code,{children:"end"})," only if it lands exactly on the step sequence."]}),"\n",(0,t.jsx)(n.h4,{id:"tests",children:"Tests"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"1..5 =>1, 2, 3, 4, 5\n0..10 step 2 =>0, 2, 4, 6, 8, 10\n0..10 step 3 =>0, 3, 6, 9\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"rule-2--default-step",children:"Rule 2 \u2014 Default step"}),"\n",(0,t.jsxs)(n.p,{children:["If ",(0,t.jsx)(n.code,{children:"step"})," is omitted:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["If ",(0,t.jsx)(n.code,{children:"start < end"}),", default ",(0,t.jsx)(n.code,{children:"step = 1"})]}),"\n",(0,t.jsxs)(n.li,{children:["If ",(0,t.jsx)(n.code,{children:"start > end"}),", default ",(0,t.jsx)(n.code,{children:"step = -1"})]}),"\n",(0,t.jsxs)(n.li,{children:["If ",(0,t.jsx)(n.code,{children:"start == end"}),", result is a single-element list"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"tests-1",children:"Tests"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"2..6 =>2, 3, 4, 5, 6\n6..2 =>6, 5, 4, 3, 2\n5..5 =>5\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"rule-3--step-must-not-be-0",children:"Rule 3 \u2014 Step must not be 0"}),"\n",(0,t.jsx)(n.h4,{id:"tests-2",children:"Tests"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"0..10 step 0 =>\u26a0\ufe0f step cannot be 0\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"rule-4--step-direction-must-match-range-direction",children:"Rule 4 \u2014 Step direction must match range direction"}),"\n",(0,t.jsxs)(n.p,{children:["If ",(0,t.jsx)(n.code,{children:"start < end"}),", step must be positive.\nIf ",(0,t.jsx)(n.code,{children:"start > end"}),", step must be negative."]}),"\n",(0,t.jsx)(n.h4,{id:"tests-3",children:"Tests"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"0..10 step -2 =>\u26a0\ufe0f step must be positive for an increasing range\n10..0 step 2 =>\u26a0\ufe0f step must be negative for a decreasing range\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"rule-5--types-integers-only-in-v1",children:"Rule 5 \u2014 Types: integers only in v1"}),"\n",(0,t.jsxs)(n.p,{children:["Start/end/step must evaluate to ",(0,t.jsx)(n.strong,{children:"unitless integers"}),"."]}),"\n",(0,t.jsx)(n.h4,{id:"tests-4",children:"Tests"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"0.5..3 =>\u26a0\ufe0f range endpoints must be integers (got 0.5)\n1..5 step 0.5 =>\u26a0\ufe0f step must be an integer (got 0.5)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Variables are allowed if they resolve correctly:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"a = 1\nb = 5\na..b =>1, 2, 3, 4, 5\n"})}),"\n",(0,t.jsx)(n.p,{children:"Units in endpoints are rejected in v1:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"a = 1 m\nb = 5 m\na..b =>\u26a0\ufe0f range endpoints must be unitless integers (got m)\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h2,{id:"postfix-to-on-lists-unit-annotation-vs-conversion",children:["Postfix ",(0,t.jsx)(n.code,{children:"to"})," on lists (Unit annotation vs conversion)"]}),"\n",(0,t.jsxs)(n.h3,{id:"rule-6--to-unit-on-a-unitless-list-annotates-each-element",children:["Rule 6 \u2014 ",(0,t.jsx)(n.code,{children:"to <unit>"})," on a unitless list ",(0,t.jsx)(n.strong,{children:"annotates"})," each element"]}),"\n",(0,t.jsxs)(n.p,{children:["If the list elements are unitless numeric values, ",(0,t.jsx)(n.code,{children:"to <unit>"})," assigns that unit to each element."]}),"\n",(0,t.jsx)(n.h4,{id:"tests-5",children:"Tests"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"1..5 to kg =>1 kg, 2 kg, 3 kg, 4 kg, 5 kg\n0..10 step 2 to m/s =>0 m/s, 2 m/s, 4 m/s, 6 m/s, 8 m/s, 10 m/s\n"})}),"\n",(0,t.jsx)(n.p,{children:"Also works on list literals:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"xs = 3, 4, 5\nxs to m =>3 m, 4 m, 5 m\n"})}),"\n",(0,t.jsx)(n.p,{children:"If any element already has a unit, behavior depends on the conversion rule below (Rule 7)."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h3,{id:"rule-7--to-unit-on-a-unit-bearing-list-converts-each-element-same-dimension",children:["Rule 7 \u2014 ",(0,t.jsx)(n.code,{children:"to <unit>"})," on a unit-bearing list ",(0,t.jsx)(n.strong,{children:"converts"})," each element (same dimension)"]}),"\n",(0,t.jsx)(n.p,{children:"If all elements are unit-bearing and dimensionally compatible with the target unit, convert each element to the target unit."}),"\n",(0,t.jsx)(n.h4,{id:"tests-heterogeneous-units-same-dimension",children:"Tests (heterogeneous units, same dimension)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"a = 2 m, 7 cm, 2 km, 1 ft\na to m =>2 m, 0.07 m, 2000 m, 0.3048 m\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"b = 1200 rpm, 20 Hz\nb to Hz =>20 Hz, 20 Hz\n"})}),"\n",(0,t.jsx)(n.h4,{id:"tests-incompatible-dimension",children:"Tests (incompatible dimension)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"mix = 2 m, 3 s\nmix to m =>\u26a0\ufe0f Cannot convert s to m (incompatible dimensions)\n"})}),"\n",(0,t.jsx)(n.h4,{id:"mixed-unitless--unit-bearing-list-recommended-strict-behavior",children:"Mixed unitless + unit-bearing list (recommended strict behavior)"}),"\n",(0,t.jsxs)(n.p,{children:["If any element is unit-bearing, then ",(0,t.jsx)(n.code,{children:"to <unit>"})," is treated as ",(0,t.jsx)(n.strong,{children:"conversion"}),", and unitless elements are invalid because there is no source unit to convert from."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"x = 1, 2 m, 3\nx to m =>\u26a0\ufe0f Cannot convert unitless value to m when converting a unit-bearing list\n"})}),"\n",(0,t.jsx)(n.p,{children:"(If you prefer permissive behavior later, that would be a v2 change; v1 should stay strict.)"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"maximum-list-size-guardrail-setting",children:"Maximum list size guardrail (Setting)"}),"\n",(0,t.jsx)(n.h3,{id:"rule-8--range-generation-must-obey-a-configurable-maximum-length",children:"Rule 8 \u2014 Range generation must obey a configurable maximum length"}),"\n",(0,t.jsxs)(n.p,{children:["To prevent runaway memory/time usage, the maximum number of generated elements is a ",(0,t.jsx)(n.strong,{children:"user setting"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Setting name (suggested): ",(0,t.jsx)(n.code,{children:"max generated list size"})]}),"\n",(0,t.jsxs)(n.li,{children:["Default (suggested): ",(0,t.jsx)(n.code,{children:"10000"})]}),"\n",(0,t.jsx)(n.li,{children:"Applies to numeric ranges and (future) date/time ranges."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"tests-assumes-setting--10000",children:"Tests (assumes setting = 10000)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"1..10000 =>1, 2, 3, ..., 10000\n1..10001 =>\u26a0\ufe0f range too large (10001 elements; max 10000)\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"composition-with-existing-features",children:"Composition with existing features"}),"\n",(0,t.jsxs)(n.p,{children:["Range generation produces a ",(0,t.jsx)(n.strong,{children:"list"})," and should work with:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"element-wise arithmetic with scalars"}),"\n",(0,t.jsx)(n.li,{children:"aggregations/functions that accept lists"}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"tests-6",children:"Tests"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"(1..5) * 2 =>2, 4, 6, 8, 10\nsum(1..5) =>15\nmean(1..5) =>3\nmin(1..5) =>1\nmax(1..5) =>5\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"proposed-extension-date-and-time-ranges",children:"Proposed extension: date and time ranges"}),"\n",(0,t.jsxs)(n.p,{children:["This section proposes how to include dates and times into ranges while keeping semantics predictable. It is ",(0,t.jsx)(n.strong,{children:"not part of numeric v1"})," unless you choose to implement it now."]}),"\n",(0,t.jsx)(n.h3,{id:"goals",children:"Goals"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Generate sequences of dates (daily/weekly/monthly)"}),"\n",(0,t.jsx)(n.li,{children:"Generate sequences of times (time slots)"}),"\n",(0,t.jsxs)(n.li,{children:["Avoid ambiguity with numeric ",(0,t.jsx)(n.code,{children:"step"})]}),"\n",(0,t.jsx)(n.li,{children:"Keep guardrails and inclusivity rules consistent"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"recommended-approach",children:"Recommended approach"}),"\n",(0,t.jsxs)(n.p,{children:["Use the same ",(0,t.jsx)(n.code,{children:".."})," span operator, but require an explicit ",(0,t.jsx)(n.strong,{children:"time unit step"})," (not a number)."]}),"\n",(0,t.jsx)(n.h4,{id:"date-range-daily-by-default-optional",children:"Date range (daily by default, optional)"}),"\n",(0,t.jsx)(n.p,{children:"Option A (default daily step if omitted):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"2026-01-01..2026-01-05 =>2026-01-01, 2026-01-02, 2026-01-03, 2026-01-04, 2026-01-05\n"})}),"\n",(0,t.jsx)(n.p,{children:"Option B (require step for clarity; safer):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"2026-01-01..2026-01-05 step 1 day =>2026-01-01, 2026-01-02, 2026-01-03, 2026-01-04, 2026-01-05\n"})}),"\n",(0,t.jsx)(n.h4,{id:"weekly-stepping",children:"Weekly stepping"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"2026-01-01..2026-02-01 step 1 week =>2026-01-01, 2026-01-08, 2026-01-15, 2026-01-22, 2026-01-29\n"})}),"\n",(0,t.jsx)(n.h4,{id:"monthly-stepping-calendar-aware",children:"Monthly stepping (calendar-aware)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"2026-01-15..2026-05-15 step 1 month =>2026-01-15, 2026-02-15, 2026-03-15, 2026-04-15, 2026-05-15\n"})}),"\n",(0,t.jsx)(n.h4,{id:"month-end-behavior-must-be-defined",children:"Month-end behavior (must be defined)"}),"\n",(0,t.jsx)(n.p,{children:"When stepping monthly from dates that don\u2019t exist in all months (e.g., Jan 31):"}),"\n",(0,t.jsxs)(n.p,{children:["Recommended rule: ",(0,t.jsx)(n.strong,{children:"clamp to last valid day of month"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"2026-01-31..2026-05-31 step 1 month =>2026-01-31, 2026-02-28, 2026-03-31, 2026-04-30, 2026-05-31\n"})}),"\n",(0,t.jsx)(n.p,{children:"(Non-leap-year example; leap years should produce Feb 29.)"}),"\n",(0,t.jsx)(n.h4,{id:"time-of-day-range-same-day",children:"Time-of-day range (same day)"}),"\n",(0,t.jsx)(n.p,{children:"Require explicit step with a duration:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"09:00..11:00 step 30 min =>09:00, 09:30, 10:00, 10:30, 11:00\n"})}),"\n",(0,t.jsx)(n.h4,{id:"datetime-range",children:"Datetime range"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"2026-01-01 09:00..2026-01-01 12:00 step 1 h =>2026-01-01 09:00, 10:00, 11:00, 12:00\n"})}),"\n",(0,t.jsx)(n.h3,{id:"datetime-rules-proposed",children:"Date/time rules (proposed)"}),"\n",(0,t.jsx)(n.h4,{id:"rule-d1--step-must-be-a-duration-unit",children:"Rule D1 \u2014 Step must be a duration unit"}),"\n",(0,t.jsxs)(n.p,{children:["Allowed: ",(0,t.jsx)(n.code,{children:"min"}),", ",(0,t.jsx)(n.code,{children:"h"}),", ",(0,t.jsx)(n.code,{children:"day"}),", ",(0,t.jsx)(n.code,{children:"week"}),", ",(0,t.jsx)(n.code,{children:"month"}),", ",(0,t.jsx)(n.code,{children:"year"})," (and plural forms if you support them)."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"2026-01-01..2026-01-05 step 2 =>\u26a0\ufe0f Date ranges require a duration step (e.g., 1 day)\n"})}),"\n",(0,t.jsx)(n.h4,{id:"rule-d2--inclusive-endpoint-if-aligned",children:"Rule D2 \u2014 Inclusive endpoint if aligned"}),"\n",(0,t.jsx)(n.p,{children:"Same as numeric ranges:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"09:00..10:00 step 40 min =>09:00, 09:40\n"})}),"\n",(0,t.jsx)(n.h4,{id:"rule-d3--guardrail-applies",children:"Rule D3 \u2014 Guardrail applies"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"09:00..23:59 step 1 min =>\u26a0\ufe0f range too large (...)  (if exceeds setting)\n"})}),"\n",(0,t.jsx)(n.h4,{id:"rule-d4--timezone-behavior-must-be-explicit",children:"Rule D4 \u2014 Timezone behavior (must be explicit)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"date"})," is timezone-agnostic (calendar date)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"time"})," is local-time by default"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"datetime"})," uses Smartpad\u2019s configured timezone unless explicitly specified"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"rule-d5--dst-transitions-must-be-defined-for-datetimes",children:"Rule D5 \u2014 DST transitions (must be defined for datetimes)"}),"\n",(0,t.jsx)(n.p,{children:"Recommended v1 behavior for datetime stepping across DST:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Step in ",(0,t.jsx)(n.strong,{children:"wall-clock units"})," for ",(0,t.jsx)(n.code,{children:"hour/min"})," lists (may skip or repeat times)"]}),"\n",(0,t.jsx)(n.li,{children:"Provide an explicit warning when DST causes non-uniform intervals"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"(If this is too heavy initially, restrict datetime ranges to not cross DST boundaries and error when they do.)"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"minimal-test-suite-summary-numeric-v1--unit-postfix",children:"Minimal test suite summary (Numeric v1 + unit postfix)"}),"\n",(0,t.jsx)(n.h3,{id:"numeric-range-basics",children:"Numeric range basics"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"1..5 =>1, 2, 3, 4, 5\n0..10 step 2 =>0, 2, 4, 6, 8, 10\n0..10 step 3 =>0, 3, 6, 9\n6..2 =>6, 5, 4, 3, 2\n5..5 =>5\n0..10 step 0 =>\u26a0\ufe0f step cannot be 0\n0..10 step -2 =>\u26a0\ufe0f step must be positive for an increasing range\n10..0 step 2 =>\u26a0\ufe0f step must be negative for a decreasing range\n0.5..3 =>\u26a0\ufe0f range endpoints must be integers (got 0.5)\n1..5 step 0.5 =>\u26a0\ufe0f step must be an integer (got 0.5)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"unit-annotation-on-unitless-lists",children:"Unit annotation on unitless lists"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"1..5 to kg =>1 kg, 2 kg, 3 kg, 4 kg, 5 kg\n(3, 4, 5) to m =>3 m, 4 m, 5 m\n"})}),"\n",(0,t.jsx)(n.h3,{id:"unit-conversion-on-unit-bearing-lists",children:"Unit conversion on unit-bearing lists"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"a = 2 m, 7 cm, 2 km, 1 ft\na to m =>2 m, 0.07 m, 2000 m, 0.3048 m\nmix = 2 m, 3 s\nmix to m =>\u26a0\ufe0f Cannot convert s to m (incompatible dimensions)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"guardrail-setting",children:"Guardrail setting"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"1..10001 =>\u26a0\ufe0f range too large (10001 elements; max 10000)\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"notes-for-implementation-order-recommended",children:"Notes for implementation order (recommended)"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Numeric range parsing/eval (",(0,t.jsx)(n.code,{children:".."}),", optional ",(0,t.jsx)(n.code,{children:"step"}),")"]}),"\n",(0,t.jsx)(n.li,{children:"Guardrail as a setting (readable by evaluator)"}),"\n",(0,t.jsxs)(n.li,{children:["Postfix ",(0,t.jsx)(n.code,{children:"to"})," on lists: annotation for unitless lists, conversion for unit-bearing lists (strict mixed behavior)"]}),"\n",(0,t.jsx)(n.li,{children:"(Optional later) Date/time ranges with duration step and calendar rules"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453(e,n,s){s.d(n,{R:()=>r,x:()=>a});var i=s(6540);const t={},l=i.createContext(t);function r(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);