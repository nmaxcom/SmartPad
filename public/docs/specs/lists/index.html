<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-specs/lists" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Lists in Smartpad — single comprehensive document (markdown) | SmartPad Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="http://localhost:3000/docs/img/logo.svg"><meta data-rh="true" name="twitter:image" content="http://localhost:3000/docs/img/logo.svg"><meta data-rh="true" property="og:url" content="http://localhost:3000/docs/specs/lists/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Lists in Smartpad — single comprehensive document (markdown) | SmartPad Docs"><meta data-rh="true" name="description" content="A **list** is a single value that contains **many values** of the same semantic kind (numbers, currency amounts, lengths, durations, etc.). Lists let users do in one line what they’d otherwise do with:"><meta data-rh="true" property="og:description" content="A **list** is a single value that contains **many values** of the same semantic kind (numbers, currency amounts, lengths, durations, etc.). Lists let users do in one line what they’d otherwise do with:"><link data-rh="true" rel="icon" href="/docs/img/logo.svg"><link data-rh="true" rel="canonical" href="http://localhost:3000/docs/specs/lists/"><link data-rh="true" rel="alternate" href="http://localhost:3000/docs/specs/lists/" hreflang="en"><link data-rh="true" rel="alternate" href="http://localhost:3000/docs/specs/lists/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Lists in Smartpad — single comprehensive document (markdown)","item":"http://localhost:3000/docs/specs/lists"}]}</script><link rel="stylesheet" href="/docs/assets/css/styles.95fa99d2.css">
<script src="/docs/assets/js/runtime~main.cb4a83c7.js" defer="defer"></script>
<script src="/docs/assets/js/main.fca3a576.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><b class="navbar__title text--truncate">SmartPad Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/nmaxcom/SmartPad" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/"><span title="SmartPad Documentation" class="linkLabel_WmDU">SmartPad Documentation</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/specs/currency/"><span title="Specs" class="categoryLinkLabel_W154">Specs</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/specs/currency/"><span title="SmartPad Currency + FX Spec" class="linkLabel_WmDU">SmartPad Currency + FX Spec</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/specs/duration/"><span title="duration" class="linkLabel_WmDU">duration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/specs/filemanagement/"><span title="FileManagement" class="linkLabel_WmDU">FileManagement</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/specs/lists/"><span title="Lists in Smartpad — single comprehensive document (markdown)" class="linkLabel_WmDU">Lists in Smartpad — single comprehensive document (markdown)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/specs/liveresult/"><span title="SmartPad Live Result Spec" class="linkLabel_WmDU">SmartPad Live Result Spec</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/specs/locale/"><span title="SmartPad Date/Time Ranges &amp; Display Spec (Locale-aware, Opinionated, With Tests)" class="linkLabel_WmDU">SmartPad Date/Time Ranges &amp; Display Spec (Locale-aware, Opinionated, With Tests)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/specs/plotting/"><span title="Smartpad — Interactive Dependency Views (Plotting &amp; Exploration)" class="linkLabel_WmDU">Smartpad — Interactive Dependency Views (Plotting &amp; Exploration)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/specs/ranges/"><span title="Range List Generation in Smartpad (Updated Spec — Rudimentary v1 + Extensions)" class="linkLabel_WmDU">Range List Generation in Smartpad (Updated Spec — Rudimentary v1 + Extensions)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/specs/resultchipsandvaluegraph/"><span title="SmartPad Result Chips + Value Graph Spec (V2)" class="linkLabel_WmDU">SmartPad Result Chips + Value Graph Spec (V2)</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Specs</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Lists in Smartpad — single comprehensive document (markdown)</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Lists in Smartpad — single comprehensive document (markdown)</h1></header><blockquote>
<p>Source: <code>docs/Specs/Lists.spec.md</code></p>
</blockquote>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="overview-what-a-list-is-and-why-it-matters">Overview: what a “list” is and why it matters<a href="#overview-what-a-list-is-and-why-it-matters" class="hash-link" aria-label="Direct link to Overview: what a “list” is and why it matters" title="Direct link to Overview: what a “list” is and why it matters" translate="no">​</a></h2>
<p>A <strong>list</strong> is a single value that contains <strong>many values</strong> of the same semantic kind (numbers, currency amounts, lengths, durations, etc.). Lists let users do in one line what they’d otherwise do with:</p>
<ul>
<li class="">repetitive calculator usage,</li>
<li class="">copy/paste into spreadsheets,</li>
<li class="">or mental math errors.</li>
</ul>
<p>Smartpad lists should feel like: <strong>“do the same reasoning, but plural.”</strong></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="core-principles">Core principles<a href="#core-principles" class="hash-link" aria-label="Direct link to Core principles" title="Direct link to Core principles" translate="no">​</a></h3>
<ol>
<li class=""><strong>Element-wise arithmetic by default</strong>
If one side is a list and the other is a scalar, apply the operation to each element.</li>
<li class=""><strong>Aggregations reduce lists to scalars</strong>
<code>sum</code>, <code>mean</code>, <code>min</code>, etc.</li>
<li class=""><strong>Unit safety</strong>
Operations must respect unit compatibility (or explain the error).</li>
<li class=""><strong>Predictable formatting</strong>
Lists display as comma-separated values, preserving units/currency.</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-counts-as-a-list">What counts as a list<a href="#what-counts-as-a-list" class="hash-link" aria-label="Direct link to What counts as a list" title="Direct link to What counts as a list" translate="no">​</a></h2>
<p>A value is a <strong>list</strong> only when it is constructed as a list literal (comma-separated values) or returned by a list-producing operation (e.g., slicing, filtering, sorting, element-wise arithmetic, etc.). A plain variable assignment preserves the original type.</p>
<p>A list-producing operation always returns a list, even if the resulting list has one element.
A scalar expression never becomes a list by assignment or by value alone.</p>
<p>So yes:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">xs = 10, 20, 30</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ys = xs[2..2]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ys =&gt;20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">count(ys) =&gt; 1</span><br></span></code></pre></div></div>
<p>ys is a list, even though it has one element.</p>
<p>But:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">x = 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">count(x) =&gt; ⚠️ Expected list</span><br></span></code></pre></div></div>
<p>x is not a list.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="limits">Limits<a href="#limits" class="hash-link" aria-label="Direct link to Limits" title="Direct link to Limits" translate="no">​</a></h2>
<p>Create a setting option with the maximum allowed of members in a list. Do not allow the creation of lists bigger than that.  Error with: ⚠️ Can&#x27;t create lists longer than [list max size]</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tests">Tests<a href="#tests" class="hash-link" aria-label="Direct link to Tests" title="Direct link to Tests" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">one = $12</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">one =&gt; $12</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">single = one</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">single =&gt; $12</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">count(single) =&gt; ⚠️ count() expects a list, got a currency value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sum(single) =&gt; ⚠️ sum() expects a list, got a currency value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">stddev(single) =&gt; ⚠️ sum() expects a list, got a currency value</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-lists">Creating lists<a href="#creating-lists" class="hash-link" aria-label="Direct link to Creating lists" title="Direct link to Creating lists" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-its-useful-for">What it’s useful for<a href="#what-its-useful-for" class="hash-link" aria-label="Direct link to What it’s useful for" title="Direct link to What it’s useful for" translate="no">​</a></h3>
<ul>
<li class="">Finance: multiple expenses/incomes, allocations, category totals</li>
<li class="">Science/engineering: repeated measurements, sensor samples</li>
<li class="">Fitness: sets/reps/weights series</li>
<li class="">Cooking: ingredient scaling across servings</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="syntax--test-examples">Syntax &amp; test examples<a href="#syntax--test-examples" class="hash-link" aria-label="Direct link to Syntax &amp; test examples" title="Direct link to Syntax &amp; test examples" translate="no">​</a></h3>
<p>List-based aggregators take one regular list argument and will error as soon as the input does not behave like a list. Passing a scalar yields messages such as <code>avg() expects a list</code>, and if the list value itself came from combining other lists, the aggregator rejects it with <code>Cannot &lt;function&gt;: &lt;list representation&gt; contains a nested list</code>.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">rent = 1200, 1200</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">utilities = 200, 200</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">expenses = rent, utilities</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sum(expenses) =&gt; ⚠️ Cannot sum: 1200, 1200, 200, 200 contains a nested list</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="literal-list-of-currency">Literal list of currency<a href="#literal-list-of-currency" class="hash-link" aria-label="Direct link to Literal list of currency" title="Direct link to Literal list of currency" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $12, $15, $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs =&gt; $12, $15, $9</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="literal-list-with-units">Literal list with units<a href="#literal-list-with-units" class="hash-link" aria-label="Direct link to Literal list with units" title="Direct link to Literal list with units" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">lengths = 3 m, 25 ft, 48 km</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lengths =&gt; 3 m, 25 ft, 48 km</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="list-of-percentages">List of percentages<a href="#list-of-percentages" class="hash-link" aria-label="Direct link to List of percentages" title="Direct link to List of percentages" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">rates = 5%, 8%, 21%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">rates =&gt; 5%, 8%, 21%</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="list-values-can-be-expressions">List values can be expressions<a href="#list-values-can-be-expressions" class="hash-link" aria-label="Direct link to List values can be expressions" title="Direct link to List values can be expressions" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">a = 10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">b = 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">vals = a/2, b/4, (a+b)/10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">vals =&gt; 5, 5, 3</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="list-values-can-be-variables-must-be-defined">List values can be variables (must be defined)<a href="#list-values-can-be-variables-must-be-defined" class="hash-link" aria-label="Direct link to List values can be variables (must be defined)" title="Direct link to List values can be variables (must be defined)" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">rent = $1250</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">utilities = $185</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">internet = $75</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">expenses = rent, utilities, internet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">expenses =&gt; $1250, $185, $75</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="display-formatting-and-ambiguity-rules">Display, formatting, and ambiguity rules<a href="#display-formatting-and-ambiguity-rules" class="hash-link" aria-label="Direct link to Display, formatting, and ambiguity rules" title="Direct link to Display, formatting, and ambiguity rules" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-its-useful-for-1">What it’s useful for<a href="#what-its-useful-for-1" class="hash-link" aria-label="Direct link to What it’s useful for" title="Direct link to What it’s useful for" translate="no">​</a></h3>
<p>If users don’t trust what a list “is”, they won’t use it. These rules prevent confusion.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="rules--examples">Rules &amp; examples<a href="#rules--examples" class="hash-link" aria-label="Direct link to Rules &amp; examples" title="Direct link to Rules &amp; examples" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="a-list-prints-as-comma-separated-values">A list prints as comma-separated values<a href="#a-list-prints-as-comma-separated-values" class="hash-link" aria-label="Direct link to A list prints as comma-separated values" title="Direct link to A list prints as comma-separated values" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">xs = 1, 2, 3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">xs =&gt; 1, 2, 3</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ambiguity-comma-means-list-vs-thousands-separator">Ambiguity: “comma means list” vs “thousands separator”<a href="#ambiguity-comma-means-list-vs-thousands-separator" class="hash-link" aria-label="Direct link to Ambiguity: “comma means list” vs “thousands separator”" title="Direct link to Ambiguity: “comma means list” vs “thousands separator”" translate="no">​</a></h4>
<p>To guard from separator <code>$1,250</code> formatting confusion, the user can&#x27;t input comma as a thousand separator, these can only appear in the results.</p>
<p><strong>Recommended rule (simple and testable):</strong></p>
<ul>
<li class="">A list separator is <strong>comma</strong>, regardless of spaces or lack thereof: <code>&quot;,&quot;</code></li>
</ul>
<p>Examples:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">rent = $1,250</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">rent =&gt; ⚠️ Cannot create list: incompatible units</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">xs = 1,250</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">xs =&gt; 1,250</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">xs = 1, 250</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">xs =&gt; 1, 250</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="unit-consistency-in-display">Unit consistency in display<a href="#unit-consistency-in-display" class="hash-link" aria-label="Direct link to Unit consistency in display" title="Direct link to Unit consistency in display" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">lengths = 3 m, 25 m, 48 km</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lengths =&gt; 3 m, 25 m, 48 km</span><br></span></code></pre></div></div>
<p>No auto-conversion just for printing (only convert on <code>to</code>).</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="applying-unitscurrency-to-whole-lists">Applying units/currency to whole lists<a href="#applying-unitscurrency-to-whole-lists" class="hash-link" aria-label="Direct link to Applying units/currency to whole lists" title="Direct link to Applying units/currency to whole lists" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="postfix-unit-annotation-required">Postfix unit annotation (required)<a href="#postfix-unit-annotation-required" class="hash-link" aria-label="Direct link to Postfix unit annotation (required)" title="Direct link to Postfix unit annotation (required)" translate="no">​</a></h3>
<p>If <code>to &lt;unit&gt;</code> is applied to a comma-separated numeric list, treat it as <strong>unit annotation</strong>, not conversion.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">speeds = 3, 4, 5, 6 to m/s</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">speeds =&gt;3 m/s, 4 m/s, 5 m/s, 6 m/s</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="to-unit-binds-to-the-entire-list"><code>to &lt;unit&gt;</code> binds to the entire list<a href="#to-unit-binds-to-the-entire-list" class="hash-link" aria-label="Direct link to to-unit-binds-to-the-entire-list" title="Direct link to to-unit-binds-to-the-entire-list" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">xs = 1, 2, 3 to m</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">xs =&gt;1 m, 2 m, 3 m</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mixed-units-already-present">Mixed units already present<a href="#mixed-units-already-present" class="hash-link" aria-label="Direct link to Mixed units already present" title="Direct link to Mixed units already present" translate="no">​</a></h3>
<p>If list items already include units:</p>
<ul>
<li class="">items with units are converted to the target unit</li>
<li class="">unitless items are annotated with the target unit</li>
<li class="">incompatible units raise an error</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">lengths = 3 cm, 4, 5 to m</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lengths =&gt;0.03 m, 4 m, 5 m</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="compound-units-are-allowed">Compound units are allowed<a href="#compound-units-are-allowed" class="hash-link" aria-label="Direct link to Compound units are allowed" title="Direct link to Compound units are allowed" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">accelerations = 1.5, 2, to m/s^2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">accelerations =&gt;1.5 m/s^2, 2 m/s^2, m/s^2</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="currency-annotation">Currency annotation<a href="#currency-annotation" class="hash-link" aria-label="Direct link to Currency annotation" title="Direct link to Currency annotation" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prices = 10, 20, 30 to $</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">prices =&gt; $10, $20, $30</span><br></span></code></pre></div></div>
<p>Mixed currencies are not auto-converted:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prices = €10, 20, 30 to $ =&gt; ⚠️ Cannot convert € to $</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="conversion-chaining-on-lists">Conversion chaining on lists<a href="#conversion-chaining-on-lists" class="hash-link" aria-label="Direct link to Conversion chaining on lists" title="Direct link to Conversion chaining on lists" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">lengths = 100, 200, 300 to cm</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lengths to m =&gt;1 m, 2 m, 3 m</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="trailing-unit-applies-to-the-whole-line">Trailing unit applies to the whole line<a href="#trailing-unit-applies-to-the-whole-line" class="hash-link" aria-label="Direct link to Trailing unit applies to the whole line" title="Direct link to Trailing unit applies to the whole line" translate="no">​</a></h3>
<p>When the last element has a unit and earlier elements do not, assume the unit applies to the whole list.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">speeds = 10, 20, 30 km/h</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">speeds =&gt; 10 km/h, 20 km/h, 30 km/h</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="list-to-list-unit-alignment">List-to-list unit alignment<a href="#list-to-list-unit-alignment" class="hash-link" aria-label="Direct link to List-to-list unit alignment" title="Direct link to List-to-list unit alignment" translate="no">​</a></h3>
<p>Lists zip; compatible units auto-convert.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">a = 1, 2, 3 to m</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">b = 100, 200, 300 to cm</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">a + b =&gt;2 m, 4 m, 6 m</span><br></span></code></pre></div></div>
<p>Incompatible units error:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">a = 1, 2, 3 to m</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">b = 1, 2, 3 to s</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">a + b =&gt;⚠️ Cannot add incompatible units (m vs s)</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="aggregations-reduce-list--scalar">Aggregations (reduce list → scalar)<a href="#aggregations-reduce-list--scalar" class="hash-link" aria-label="Direct link to Aggregations (reduce list → scalar)" title="Direct link to Aggregations (reduce list → scalar)" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-its-useful-for-2">What it’s useful for<a href="#what-its-useful-for-2" class="hash-link" aria-label="Direct link to What it’s useful for" title="Direct link to What it’s useful for" translate="no">​</a></h3>
<ul>
<li class="">Finance: totals, average spend, largest expense</li>
<li class="">Science: compute mean/stddev of measurements</li>
<li class="">Ops: max latency, median response time</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="syntax--test-examples-1">Syntax &amp; test examples<a href="#syntax--test-examples-1" class="hash-link" aria-label="Direct link to Syntax &amp; test examples" title="Direct link to Syntax &amp; test examples" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sum">sum<a href="#sum" class="hash-link" aria-label="Direct link to sum" title="Direct link to sum" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $12, $15, $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sum(costs) =&gt; $36</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="count">count<a href="#count" class="hash-link" aria-label="Direct link to count" title="Direct link to count" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $12, $15, $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">count(costs) =&gt; 3</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="mean--avg">mean = avg<a href="#mean--avg" class="hash-link" aria-label="Direct link to mean = avg" title="Direct link to mean = avg" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $12, $15, $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">mean(costs) =&gt; $12</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">avg(costs) =&gt; $12</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="min-max">min, max<a href="#min-max" class="hash-link" aria-label="Direct link to min, max" title="Direct link to min, max" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $12, $15, $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">min(costs) =&gt; $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max(costs) =&gt; $15</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="median-oddeven-length-edge-cases">median (odd/even length edge cases)<a href="#median-oddeven-length-edge-cases" class="hash-link" aria-label="Direct link to median (odd/even length edge cases)" title="Direct link to median (odd/even length edge cases)" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">xs = 1, 3, 10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">median(xs) =&gt; 3</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ys = 1, 3, 10, 11</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">median(ys) =&gt; 6.5</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="range--max---min">range = max - min<a href="#range--max---min" class="hash-link" aria-label="Direct link to range = max - min" title="Direct link to range = max - min" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $12, $15, $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">range(costs) =&gt; $6</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="stddev-population">stddev (population)<a href="#stddev-population" class="hash-link" aria-label="Direct link to stddev (population)" title="Direct link to stddev (population)" translate="no">​</a></h4>
<p>Example assumes <strong>population</strong> stddev:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">xs = 2, 4, 4, 4, 5, 5, 7, 9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">stddev(xs) =&gt; 2</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sum-mean-on-unit-lists">sum, mean on unit lists<a href="#sum-mean-on-unit-lists" class="hash-link" aria-label="Direct link to sum, mean on unit lists" title="Direct link to sum, mean on unit lists" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">lengths = 3 m, 25 m, 48 km</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sum(lengths) =&gt; 48.028 km</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">mean(lengths) =&gt; 16.0093 km</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="indexing-and-slicing">Indexing and slicing<a href="#indexing-and-slicing" class="hash-link" aria-label="Direct link to Indexing and slicing" title="Direct link to Indexing and slicing" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-its-useful-for-3">What it’s useful for<a href="#what-its-useful-for-3" class="hash-link" aria-label="Direct link to What it’s useful for" title="Direct link to What it’s useful for" translate="no">​</a></h3>
<ul>
<li class="">Finance: “show the biggest item”, “take first 3 months”</li>
<li class="">Science: inspect outliers, take windowed segments</li>
<li class="">Debugging: check one element after transformations</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="syntax--test-examples-2">Syntax &amp; test examples<a href="#syntax--test-examples-2" class="hash-link" aria-label="Direct link to Syntax &amp; test examples" title="Direct link to Syntax &amp; test examples" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="index-access-1-based">Index access (1-based)<a href="#index-access-1-based" class="hash-link" aria-label="Direct link to Index access (1-based)" title="Direct link to Index access (1-based)" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $12, $15, $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs[1] =&gt; $12</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs[2] =&gt; $15</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs[3] =&gt; $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs[0] =&gt; ⚠️ Indexing starts at 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs[4] =&gt; ⚠️ Index out of range (size 3)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs[-1] =&gt; $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs[-2] =&gt; $15</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="out-of-range-index-edge-case">Out-of-range index (edge case)<a href="#out-of-range-index-edge-case" class="hash-link" aria-label="Direct link to Out-of-range index (edge case)" title="Direct link to Out-of-range index (edge case)" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $12, $15, $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs[3] =&gt; ⚠️ Index out of range (size 3)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="negative-indices">Negative indices<a href="#negative-indices" class="hash-link" aria-label="Direct link to Negative indices" title="Direct link to Negative indices" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $12, $15, $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs[-1] =&gt; $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs[-2] =&gt; $15</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="slicing-1-based-inclusive">Slicing (1-based, inclusive)<a href="#slicing-1-based-inclusive" class="hash-link" aria-label="Direct link to Slicing (1-based, inclusive)" title="Direct link to Slicing (1-based, inclusive)" translate="no">​</a></h4>
<p>This spec uses <strong>inclusive..inclusive</strong>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $12, $15, $9, $20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs[1..2] =&gt; $12, $15</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs[2..3] =&gt; $15, $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs[3..3] =&gt; $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="slice-edge-cases">Slice edge cases<a href="#slice-edge-cases" class="hash-link" aria-label="Direct link to Slice edge cases" title="Direct link to Slice edge cases" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $12, $15, $9, $20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs[1..10] =&gt; $12, $15, $9, $20</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $12, $15, $9, $20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs[2..1] =&gt; ⚠️ Range can&#x27;t go downwards</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="sorting-and-ordering">Sorting and ordering<a href="#sorting-and-ordering" class="hash-link" aria-label="Direct link to Sorting and ordering" title="Direct link to Sorting and ordering" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-its-useful-for-4">What it’s useful for<a href="#what-its-useful-for-4" class="hash-link" aria-label="Direct link to What it’s useful for" title="Direct link to What it’s useful for" translate="no">​</a></h3>
<ul>
<li class="">Finance: rank expenses</li>
<li class="">Science: see distribution order, compute median manually</li>
<li class="">Planning: sort durations, priorities</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="syntax--test-examples-3">Syntax &amp; test examples<a href="#syntax--test-examples-3" class="hash-link" aria-label="Direct link to Syntax &amp; test examples" title="Direct link to Syntax &amp; test examples" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ascending-sort">Ascending sort<a href="#ascending-sort" class="hash-link" aria-label="Direct link to Ascending sort" title="Direct link to Ascending sort" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $12, $15, $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sort(costs) =&gt; $9, $12, $15</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="descending-sort">Descending sort<a href="#descending-sort" class="hash-link" aria-label="Direct link to Descending sort" title="Direct link to Descending sort" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $12, $15, $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sort(costs, desc) =&gt; $15, $12, $9</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="finance-top-expense">Finance: “top expense”<a href="#finance-top-expense" class="hash-link" aria-label="Direct link to Finance: “top expense”" title="Direct link to Finance: “top expense”" translate="no">​</a></h4>
<p>expenses = $1250, $185, $75
sort(expenses, desc)[1] =&gt; $1250</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sorting-unit-lists-by-canonical-magnitude">Sorting unit lists (by canonical magnitude)<a href="#sorting-unit-lists-by-canonical-magnitude" class="hash-link" aria-label="Direct link to Sorting unit lists (by canonical magnitude)" title="Direct link to Sorting unit lists (by canonical magnitude)" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">lengths = 3 m, 25 m, 48 km</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sort(lengths) =&gt; 3 m, 25 m, 48 km</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sorting-mixed-incompatible-units-edge-case">Sorting mixed incompatible units (edge case)<a href="#sorting-mixed-incompatible-units-edge-case" class="hash-link" aria-label="Direct link to Sorting mixed incompatible units (edge case)" title="Direct link to Sorting mixed incompatible units (edge case)" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">weird = 3 m, 2 s</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sort(weird) =&gt; ⚠️ Cannot sort: incompatible units</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="canonical-magnitude-sort">Canonical magnitude sort<a href="#canonical-magnitude-sort" class="hash-link" aria-label="Direct link to Canonical magnitude sort" title="Direct link to Canonical magnitude sort" translate="no">​</a></h4>
<p>When units are compatible, sorting always compares the canonical magnitude (e.g., meters for lengths, seconds for durations) but retains the original unit text in the output.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">lengths = 3 m, 5 ft, 48 km</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sort(lengths) =&gt; 5 ft, 3 m, 48 km</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">times = 2 min, 30 s, 1 h</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sort(times) =&gt; 30 s, 2 min, 1 h</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="dimension-safety">Dimension safety<a href="#dimension-safety" class="hash-link" aria-label="Direct link to Dimension safety" title="Direct link to Dimension safety" translate="no">​</a></h4>
<p>Lists are rejected when their values belong to different physical dimensions. Trying to define a list such as <code>3 m</code> and <code>2 h</code> will produce <code>⚠️ Cannot create list: incompatible dimensions</code>, so sorting/filtering never runs on that data.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="filtering">Filtering<a href="#filtering" class="hash-link" aria-label="Direct link to Filtering" title="Direct link to Filtering" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-its-useful-for-5">What it’s useful for<a href="#what-its-useful-for-5" class="hash-link" aria-label="Direct link to What it’s useful for" title="Direct link to What it’s useful for" translate="no">​</a></h3>
<ul>
<li class="">Finance: “expenses over $100”</li>
<li class="">Science: “measurements above threshold”</li>
<li class="">Fitness: “sets heavier than 80 kg”</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="syntax--test-examples-4">Syntax &amp; test examples<a href="#syntax--test-examples-4" class="hash-link" aria-label="Direct link to Syntax &amp; test examples" title="Direct link to Syntax &amp; test examples" translate="no">​</a></h3>
<p><code>where</code> expects a valid list value at runtime; if the variable being filtered never resolved to a list, you’ll see <code>⚠️ where expects a list</code> instead of a comparison.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="filter-by-scalar-condition">Filter by scalar condition<a href="#filter-by-scalar-condition" class="hash-link" aria-label="Direct link to Filter by scalar condition" title="Direct link to Filter by scalar condition" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $12, $15, $9, $100</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs where &gt; $10 =&gt; $12, $15, $100</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="filter-by-unit-aware-threshold">Filter by unit-aware threshold<a href="#filter-by-unit-aware-threshold" class="hash-link" aria-label="Direct link to Filter by unit-aware threshold" title="Direct link to Filter by unit-aware threshold" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">lengths = 3 m, 25 m, 48 km</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lengths where &gt; 10 km =&gt; 48 km</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="filter-result-empty-edge-case">Filter result empty (edge case)<a href="#filter-result-empty-edge-case" class="hash-link" aria-label="Direct link to Filter result empty (edge case)" title="Direct link to Filter result empty (edge case)" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $12, $15, $9, $100</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs where &gt; $200 =&gt; ()</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="equality--tolerance">Equality &amp; tolerance<a href="#equality--tolerance" class="hash-link" aria-label="Direct link to Equality &amp; tolerance" title="Direct link to Equality &amp; tolerance" translate="no">​</a></h4>
<p>Use <code>where = value</code> to preserve only the matching entries (duplicates stay in the result). Equality tests are semantic—<code>1 m</code> equals <code>100 cm</code>, <code>$8</code> matches any <code>$8</code>, and floating-point noise like <code>0.1 + 0.2</code> is compared using a combined tolerance:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">absTol = 1e-12</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">relTol = 1e-9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|a - b| &lt;= max(absTol, relTol * max(|a|, |b|))</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $8, $12, $15, $9, $8, $100</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs where = $8 =&gt; $8, $8</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs where = $123 =&gt; ()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lengths = 1 m, 100 cm, 2 m</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lengths where = 1 m =&gt; 1 m, 100 cm</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">xs = 0.1 + 0.2, 0.3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">xs where = 0.3 =&gt; 0.3, 0.3</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ambiguity-comparing-incompatible-units">Ambiguity: comparing incompatible units<a href="#ambiguity-comparing-incompatible-units" class="hash-link" aria-label="Direct link to Ambiguity: comparing incompatible units" title="Direct link to Ambiguity: comparing incompatible units" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">vals = 3 m, 2 s</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">vals where &gt; 1 m =&gt; ⚠️ Cannot compare: incompatible units</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="mapping-element-wise-transforms">Mapping (element-wise transforms)<a href="#mapping-element-wise-transforms" class="hash-link" aria-label="Direct link to Mapping (element-wise transforms)" title="Direct link to Mapping (element-wise transforms)" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-its-useful-for-6">What it’s useful for<a href="#what-its-useful-for-6" class="hash-link" aria-label="Direct link to What it’s useful for" title="Direct link to What it’s useful for" translate="no">​</a></h3>
<p>This is the big one: “apply a rule to each item”.</p>
<ul>
<li class="">Finance: apply tax/discount to each line item</li>
<li class="">Science: convert units, calibrate measurements</li>
<li class="">Planning: convert durations, normalize values</li>
<li class="">Data sanity: clamp, round, abs element-wise</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="syntax--test-examples-5">Syntax &amp; test examples<a href="#syntax--test-examples-5" class="hash-link" aria-label="Direct link to Syntax &amp; test examples" title="Direct link to Syntax &amp; test examples" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="scalar-op">Scalar op<a href="#scalar-op" class="hash-link" aria-label="Direct link to Scalar op" title="Direct link to Scalar op" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs = $12, $15, $9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">costs * 2 =&gt; $24, $30, $18</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="element-wise-function">Element-wise function<a href="#element-wise-function" class="hash-link" aria-label="Direct link to Element-wise function" title="Direct link to Element-wise function" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">xs = -1, 4, -9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">abs(xs) =&gt; 1, 4, 9</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="unit-conversion-over-list">Unit conversion over list<a href="#unit-conversion-over-list" class="hash-link" aria-label="Direct link to Unit conversion over list" title="Direct link to Unit conversion over list" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">lengths = 3 m, 25 m, 48 km</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lengths to m =&gt; 3 m, 25 m, 48000 m</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="percent-distribution-extremely-useful">Percent distribution (extremely useful)<a href="#percent-distribution-extremely-useful" class="hash-link" aria-label="Direct link to Percent distribution (extremely useful)" title="Direct link to Percent distribution (extremely useful)" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">rent = $1250</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">utilities = $185</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">internet = $75</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">expenses = rent, utilities, internet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">total = sum(expenses) =&gt; $1510</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">distribution = expenses / total as % =&gt; 82.7815%, 12.2517%, 4.9669%</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="apply-tax-on-to-each-item">Apply “tax on” to each item<a href="#apply-tax-on-to-each-item" class="hash-link" aria-label="Direct link to Apply “tax on” to each item" title="Direct link to Apply “tax on” to each item" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">items = $10, $20, $30</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tax = 8%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">with tax = tax on items =&gt; $10.8, $21.6, $32.4</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="apply-discount-off-to-each-item">Apply “discount off” to each item<a href="#apply-discount-off-to-each-item" class="hash-link" aria-label="Direct link to Apply “discount off” to each item" title="Direct link to Apply “discount off” to each item" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prices = $120, $80, $50</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">discount = 15%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">final = discount off prices =&gt; $102, $68, $42.5</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="pairwise-operations-zip-behavior">Pairwise operations (zip behavior)<a href="#pairwise-operations-zip-behavior" class="hash-link" aria-label="Direct link to Pairwise operations (zip behavior)" title="Direct link to Pairwise operations (zip behavior)" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-its-useful-for-7">What it’s useful for<a href="#what-its-useful-for-7" class="hash-link" aria-label="Direct link to What it’s useful for" title="Direct link to What it’s useful for" translate="no">​</a></h3>
<ul>
<li class="">Finance: price list × quantity list</li>
<li class="">Science: force list × distance list → energy list</li>
<li class="">Work: hours list × rate list → pay list</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="spec-decision-important">Spec decision (important)<a href="#spec-decision-important" class="hash-link" aria-label="Direct link to Spec decision (important)" title="Direct link to Spec decision (important)" translate="no">​</a></h3>
<p>Define behavior when both operands are lists:</p>
<ul>
<li class=""><strong>Same length</strong>: element-wise zip</li>
<li class=""><strong>Different length</strong>: error</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="syntax--test-examples-6">Syntax &amp; test examples<a href="#syntax--test-examples-6" class="hash-link" aria-label="Direct link to Syntax &amp; test examples" title="Direct link to Syntax &amp; test examples" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="zip-multiply">Zip multiply<a href="#zip-multiply" class="hash-link" aria-label="Direct link to Zip multiply" title="Direct link to Zip multiply" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">prices = $10, $20, $30</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">qty = 2, 1, 3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">line totals = prices * qty =&gt; $20, $20, $90</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sum(line totals) =&gt; $130</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="zip-add">Zip add<a href="#zip-add" class="hash-link" aria-label="Direct link to Zip add" title="Direct link to Zip add" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">a = 1, 2, 3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">b = 10, 20, 30</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">a + b =&gt; 11, 22, 33</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="length-mismatch-edge-case">Length mismatch (edge case)<a href="#length-mismatch-edge-case" class="hash-link" aria-label="Direct link to Length mismatch (edge case)" title="Direct link to Length mismatch (edge case)" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">a = 1, 2, 3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">b = 10, 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">a + b =&gt; ⚠️ Cannot work with lists of different lengths (3 vs 2)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="broadcast-scalar-into-list-allowed">Broadcast scalar into list (allowed)<a href="#broadcast-scalar-into-list-allowed" class="hash-link" aria-label="Direct link to Broadcast scalar into list (allowed)" title="Direct link to Broadcast scalar into list (allowed)" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">a = 1, 2, 3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">a + 10 =&gt; 11, 12, 13</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="robustness--error-messaging-must-have-edge-cases">Robustness &amp; error messaging (must-have edge cases)<a href="#robustness--error-messaging-must-have-edge-cases" class="hash-link" aria-label="Direct link to Robustness &amp; error messaging (must-have edge cases)" title="Direct link to Robustness &amp; error messaging (must-have edge cases)" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="incompatible-units-in-aggregation">Incompatible units in aggregation<a href="#incompatible-units-in-aggregation" class="hash-link" aria-label="Direct link to Incompatible units in aggregation" title="Direct link to Incompatible units in aggregation" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mix = 3 m, 2 s</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sum(mix) =&gt; ⚠️ Cannot sum incompatible units</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="incompatible-currencies-this-will-fail-until-we-support-currency-conversions">Incompatible currencies (This will fail until we support currency conversions)<a href="#incompatible-currencies-this-will-fail-until-we-support-currency-conversions" class="hash-link" aria-label="Direct link to Incompatible currencies (This will fail until we support currency conversions)" title="Direct link to Incompatible currencies (This will fail until we support currency conversions)" translate="no">​</a></h3>
<p>Either force FX conversion or error.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mix money = $10, €10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sum(mix money) =&gt; ⚠️ Cannot sum different currencies ($ vs €)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="trailing-comma">Trailing comma<a href="#trailing-comma" class="hash-link" aria-label="Direct link to Trailing comma" title="Direct link to Trailing comma" translate="no">​</a></h3>
<p>Ignore trailing commas</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">xs = 1, 2, 3,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">xs =&gt; 1, 2, 3</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="a-few-user-centric-mini-recipes-so-lists-feel-obviously-useful">A few “user-centric mini-recipes” (so lists feel obviously useful)<a href="#a-few-user-centric-mini-recipes-so-lists-feel-obviously-useful" class="hash-link" aria-label="Direct link to A few “user-centric mini-recipes” (so lists feel obviously useful)" title="Direct link to A few “user-centric mini-recipes” (so lists feel obviously useful)" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="finance-what-are-my-biggest-expenses">Finance: “what are my biggest expenses?”<a href="#finance-what-are-my-biggest-expenses" class="hash-link" aria-label="Direct link to Finance: “what are my biggest expenses?”" title="Direct link to Finance: “what are my biggest expenses?”" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">rent = $1250</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">utilities = $185</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">internet = $75</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">subscriptions = $49.99</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">expenses = rent, utilities, internet, subscriptions</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sort(expenses, desc) =&gt; $1250, $185, $75, $49.99</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">max(expenses) =&gt; $1250</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="finance-what--of-my-spending-is-rent-vs-others">Finance: “what % of my spending is rent vs others?”<a href="#finance-what--of-my-spending-is-rent-vs-others" class="hash-link" aria-label="Direct link to Finance: “what % of my spending is rent vs others?”" title="Direct link to Finance: “what % of my spending is rent vs others?”" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">rent = $1250</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">utilities = $185</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">internet = $75</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">subscriptions = $49.99</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">expenses = rent, utilities, internet, subscriptions</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">total = sum(expenses) =&gt; $1559.99</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">expenses / total as % =&gt; 80.1287%, 11.8591%, 4.8077%, 3.2045%</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="science-average--spread-of-repeated-measurements">Science: “average + spread of repeated measurements”<a href="#science-average--spread-of-repeated-measurements" class="hash-link" aria-label="Direct link to Science: “average + spread of repeated measurements”" title="Direct link to Science: “average + spread of repeated measurements”" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">measurements = 9.8 m/s^2, 9.7 m/s^2, 9.81 m/s^2, 9.79 m/s^2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">mean(measurements) =&gt; 9.775 m/s^2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">stddev(measurements) =&gt; 0.0430 m/s^2</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="fitness-total-volume-per-set">Fitness: “total volume per set”<a href="#fitness-total-volume-per-set" class="hash-link" aria-label="Direct link to Fitness: “total volume per set”" title="Direct link to Fitness: “total volume per set”" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">weights = 80 kg, 85 kg, 90 kg</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">reps = 5, 5, 3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">volume = weights * reps =&gt; 400 kg, 425 kg, 270 kg</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sum(volume) =&gt; 1095 kg</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/nmaxcom/SmartPad/tree/main/website/docs/specs/lists.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/specs/filemanagement/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">FileManagement</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/specs/liveresult/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SmartPad Live Result Spec</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview-what-a-list-is-and-why-it-matters" class="table-of-contents__link toc-highlight">Overview: what a “list” is and why it matters</a><ul><li><a href="#core-principles" class="table-of-contents__link toc-highlight">Core principles</a></li></ul></li><li><a href="#what-counts-as-a-list" class="table-of-contents__link toc-highlight">What counts as a list</a></li><li><a href="#limits" class="table-of-contents__link toc-highlight">Limits</a><ul><li><a href="#tests" class="table-of-contents__link toc-highlight">Tests</a></li></ul></li><li><a href="#creating-lists" class="table-of-contents__link toc-highlight">Creating lists</a><ul><li><a href="#what-its-useful-for" class="table-of-contents__link toc-highlight">What it’s useful for</a></li><li><a href="#syntax--test-examples" class="table-of-contents__link toc-highlight">Syntax &amp; test examples</a></li></ul></li><li><a href="#display-formatting-and-ambiguity-rules" class="table-of-contents__link toc-highlight">Display, formatting, and ambiguity rules</a><ul><li><a href="#what-its-useful-for-1" class="table-of-contents__link toc-highlight">What it’s useful for</a></li><li><a href="#rules--examples" class="table-of-contents__link toc-highlight">Rules &amp; examples</a></li></ul></li><li><a href="#applying-unitscurrency-to-whole-lists" class="table-of-contents__link toc-highlight">Applying units/currency to whole lists</a><ul><li><a href="#postfix-unit-annotation-required" class="table-of-contents__link toc-highlight">Postfix unit annotation (required)</a></li><li><a href="#to-unit-binds-to-the-entire-list" class="table-of-contents__link toc-highlight"><code>to &lt;unit&gt;</code> binds to the entire list</a></li><li><a href="#mixed-units-already-present" class="table-of-contents__link toc-highlight">Mixed units already present</a></li><li><a href="#compound-units-are-allowed" class="table-of-contents__link toc-highlight">Compound units are allowed</a></li><li><a href="#currency-annotation" class="table-of-contents__link toc-highlight">Currency annotation</a></li><li><a href="#conversion-chaining-on-lists" class="table-of-contents__link toc-highlight">Conversion chaining on lists</a></li><li><a href="#trailing-unit-applies-to-the-whole-line" class="table-of-contents__link toc-highlight">Trailing unit applies to the whole line</a></li><li><a href="#list-to-list-unit-alignment" class="table-of-contents__link toc-highlight">List-to-list unit alignment</a></li></ul></li><li><a href="#aggregations-reduce-list--scalar" class="table-of-contents__link toc-highlight">Aggregations (reduce list → scalar)</a><ul><li><a href="#what-its-useful-for-2" class="table-of-contents__link toc-highlight">What it’s useful for</a></li><li><a href="#syntax--test-examples-1" class="table-of-contents__link toc-highlight">Syntax &amp; test examples</a></li></ul></li><li><a href="#indexing-and-slicing" class="table-of-contents__link toc-highlight">Indexing and slicing</a><ul><li><a href="#what-its-useful-for-3" class="table-of-contents__link toc-highlight">What it’s useful for</a></li><li><a href="#syntax--test-examples-2" class="table-of-contents__link toc-highlight">Syntax &amp; test examples</a></li></ul></li><li><a href="#sorting-and-ordering" class="table-of-contents__link toc-highlight">Sorting and ordering</a><ul><li><a href="#what-its-useful-for-4" class="table-of-contents__link toc-highlight">What it’s useful for</a></li><li><a href="#syntax--test-examples-3" class="table-of-contents__link toc-highlight">Syntax &amp; test examples</a></li></ul></li><li><a href="#filtering" class="table-of-contents__link toc-highlight">Filtering</a><ul><li><a href="#what-its-useful-for-5" class="table-of-contents__link toc-highlight">What it’s useful for</a></li><li><a href="#syntax--test-examples-4" class="table-of-contents__link toc-highlight">Syntax &amp; test examples</a></li></ul></li><li><a href="#mapping-element-wise-transforms" class="table-of-contents__link toc-highlight">Mapping (element-wise transforms)</a><ul><li><a href="#what-its-useful-for-6" class="table-of-contents__link toc-highlight">What it’s useful for</a></li><li><a href="#syntax--test-examples-5" class="table-of-contents__link toc-highlight">Syntax &amp; test examples</a></li></ul></li><li><a href="#pairwise-operations-zip-behavior" class="table-of-contents__link toc-highlight">Pairwise operations (zip behavior)</a><ul><li><a href="#what-its-useful-for-7" class="table-of-contents__link toc-highlight">What it’s useful for</a></li><li><a href="#spec-decision-important" class="table-of-contents__link toc-highlight">Spec decision (important)</a></li><li><a href="#syntax--test-examples-6" class="table-of-contents__link toc-highlight">Syntax &amp; test examples</a></li></ul></li><li><a href="#robustness--error-messaging-must-have-edge-cases" class="table-of-contents__link toc-highlight">Robustness &amp; error messaging (must-have edge cases)</a><ul><li><a href="#incompatible-units-in-aggregation" class="table-of-contents__link toc-highlight">Incompatible units in aggregation</a></li><li><a href="#incompatible-currencies-this-will-fail-until-we-support-currency-conversions" class="table-of-contents__link toc-highlight">Incompatible currencies (This will fail until we support currency conversions)</a></li><li><a href="#trailing-comma" class="table-of-contents__link toc-highlight">Trailing comma</a></li></ul></li><li><a href="#a-few-user-centric-mini-recipes-so-lists-feel-obviously-useful" class="table-of-contents__link toc-highlight">A few “user-centric mini-recipes” (so lists feel obviously useful)</a><ul><li><a href="#finance-what-are-my-biggest-expenses" class="table-of-contents__link toc-highlight">Finance: “what are my biggest expenses?”</a></li><li><a href="#finance-what--of-my-spending-is-rent-vs-others" class="table-of-contents__link toc-highlight">Finance: “what % of my spending is rent vs others?”</a></li><li><a href="#science-average--spread-of-repeated-measurements" class="table-of-contents__link toc-highlight">Science: “average + spread of repeated measurements”</a></li><li><a href="#fitness-total-volume-per-set" class="table-of-contents__link toc-highlight">Fitness: “total volume per set”</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/">Overview</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Project</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://nmaxcom.github.io/SmartPad/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SmartPad App<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2026 SmartPad</div></div></div></footer></div>
</body>
</html>