.editor-container{flex-grow:1;display:flex;flex-direction:column;position:relative}.editor-container>div{display:flex;flex-direction:column;flex-grow:1;height:100%}.editor-content{flex-grow:1;padding:var(--spacing-4);font-family:var(--font-family-mono);font-size:var(--font-size-md);line-height:1.8;color:var(--color-text-primary);outline:none;overflow-y:auto;white-space:pre-wrap;word-wrap:break-word;min-height:400px;height:100%;display:flex;flex-direction:column}.editor-content:focus{outline:none}.editor-content .ProseMirror{outline:none;width:100%;flex-grow:1;min-height:400px;cursor:text;background:transparent;height:100%}.editor-content p{margin:0}.ProseMirror.is-editor-empty p:first-child:before{content:attr(data-placeholder);float:left;color:var(--color-text-secondary);opacity:.6;pointer-events:none;height:0}.token-variable{color:var(--color-primary);font-weight:500}.token-result{color:#16a34a;font-weight:600}.token-error{color:#dc2626;background-color:#fee2e2;padding:0 var(--spacing-1);border-radius:var(--border-radius-md);font-weight:500;-webkit-user-select:text;user-select:text}.semantic-variable{color:#0969da;font-weight:500}.variable-highlight-declaration{background-color:var(--variable-highlight-declaration-bg);border-radius:3px;transition:background-color .2s ease-in-out}.variable-highlight-reference{background-color:var(--variable-highlight-reference-bg);border-radius:3px;transition:background-color .2s ease-in-out}.semantic-operator{color:#cf222e}.semantic-number{color:#000}.semantic-scrubbableNumber{color:#000;padding:1px 3px;border-radius:3px;transition:background-color .2s ease-in-out;-webkit-user-select:none;user-select:none}.semantic-scrubbableNumber:hover,.semantic-scrubbableNumber.dragging{background-color:#f0f8ff}body.number-scrubbing,body.number-scrubbing *{cursor:ew-resize!important;-webkit-user-select:none!important;user-select:none!important}.semantic-function{color:#8250df;font-weight:500}.semantic-unit{color:#0969da;font-weight:500}.semantic-constant{color:#8250df;font-weight:600}.semantic-keyword{color:#cf222e;font-weight:500}.semantic-result{color:#006dff;background-color:#dbe9fe;padding:2px 5px;border-radius:4px}.semantic-result:after{content:attr(data-result);color:#006dff;font-weight:600}.semantic-result-display{color:#006dff;background-color:#dbe9fe;padding:2px 5px;border-radius:4px;font-weight:600;margin-left:2px}.semantic-result-display:after{content:attr(data-result)}.semantic-error-result{color:#cf222e;background-color:#ffebe9;padding:2px 5px;border-radius:4px;font-weight:600;margin-left:2px;-webkit-user-select:text!important;user-select:text!important;display:inline-flex;align-items:center;gap:4px}.semantic-error-result:after{content:attr(data-result)}.semantic-error-result.ProseMirror-widget,.ProseMirror .semantic-error-result.ProseMirror-widget,.ProseMirror .ProseMirror-widget.semantic-error-result{-webkit-user-select:text!important;user-select:text!important}.ProseMirror-widget.semantic-error-result,.ProseMirror-widget.semantic-error,.ProseMirror-widget.token-error{-webkit-user-select:text!important;user-select:text!important;pointer-events:auto!important}*[class*=semantic-error]{-webkit-user-select:text!important;user-select:text!important}.error-copy-button{background:none;border:none;cursor:pointer;font-size:12px;padding:1px 2px;border-radius:2px;color:#cf222e;opacity:.7;transition:opacity .2s ease}.error-copy-button:hover{opacity:1;background-color:#cf222e1a}.semantic-error{color:#dc2626;background-color:#fee2e2;padding:2px 5px;border-radius:4px;-webkit-user-select:text;user-select:text}.semantic-error:after{content:attr(data-result);color:#dc2626;font-weight:600}.semantic-trigger{color:#8250df;font-weight:600}.semantic-variable,.semantic-operator,.semantic-number,.semantic-scrubbableNumber,.semantic-function,.semantic-result,.semantic-result-display,.semantic-error,.semantic-error-result,.semantic-trigger{transition:color .15s ease-in-out,text-decoration .15s ease-in-out}.app-header{width:100%;padding:var(--spacing-6) 0;border-bottom:1px solid var(--color-border);background-color:var(--color-surface);position:relative;display:flex;align-items:center;justify-content:center}.header-content{text-align:center}.header-title{font-size:var(--font-size-2xl);font-weight:700;color:var(--color-text-primary);letter-spacing:-.025em;line-height:1.2}.header-subtitle{margin-top:var(--spacing-1);font-size:var(--font-size-lg);color:var(--color-text-secondary)}.settings-button{position:absolute;right:var(--spacing-6);top:50%;transform:translateY(-50%);background:none;border:none;font-size:var(--font-size-xl);cursor:pointer;padding:var(--spacing-2);border-radius:var(--border-radius-md);color:var(--color-text-secondary);transition:all .2s ease}.settings-button:hover{background-color:var(--color-surface-hover);color:var(--color-text-primary)}.settings-button:focus{outline:2px solid var(--color-primary);outline-offset:2px}.app-container{width:100%;max-width:900px;margin:0 auto;padding:var(--spacing-8) var(--spacing-6)}@media (max-width: 768px){.app-container{padding:var(--spacing-6) var(--spacing-4)}}@media (max-width: 480px){.app-container{padding:var(--spacing-4) var(--spacing-2)}}.variable-panel{background-color:var(--color-surface);border-radius:var(--border-radius-xl);box-shadow:var(--shadow-lg);border:1px solid var(--color-border);padding:var(--spacing-6);height:fit-content;max-height:500px;overflow-y:auto}.panel-title{font-size:var(--font-size-xl);font-weight:600;color:var(--color-text-primary);margin-bottom:var(--spacing-4);padding-bottom:var(--spacing-2);border-bottom:1px solid var(--color-border)}.variable-list{list-style:none;display:flex;flex-direction:column;gap:var(--spacing-4)}.variable-item{font-family:var(--font-family-mono);font-size:var(--font-size-sm)}.variable-info{display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:var(--spacing-3)}.variable-name{color:var(--color-text-primary);font-weight:500}.variable-values{display:flex;flex-direction:row;align-items:center;gap:var(--spacing-2)}.variable-raw-value{color:var(--color-text-secondary);font-style:italic}.variable-equals{color:var(--color-text-secondary);padding:0 var(--spacing-2)}.variable-computed-value{display:flex;flex-direction:row;align-items:center;gap:var(--spacing-2)}.variable-value{color:var(--color-text-primary)}.variable-type{font-size:var(--font-size-xs);padding:var(--spacing-1) var(--spacing-2);border-radius:var(--border-radius-sm);font-weight:500;text-transform:lowercase}.variable-type-number{background-color:var(--color-blue-100);color:var(--color-blue-700)}.variable-type-percentage{background-color:var(--color-green-100);color:var(--color-green-700)}.variable-type-currency{background-color:var(--color-yellow-100);color:var(--color-yellow-700)}.variable-type-unit{background-color:var(--color-purple-100);color:var(--color-purple-700)}.variable-type-error{background-color:var(--color-red-100);color:var(--color-red-700)}.empty-message{color:var(--color-text-secondary);font-style:italic;text-align:center;padding:var(--spacing-4)}.template-panel{background-color:var(--color-surface);border-radius:var(--border-radius-xl);box-shadow:var(--shadow-lg);border:1px solid var(--color-border);padding:var(--spacing-6);height:fit-content}.template-panel .panel-title{font-size:var(--font-size-xl);font-weight:600;color:var(--color-text-primary);margin-bottom:var(--spacing-4);padding-bottom:var(--spacing-2);border-bottom:1px solid var(--color-border)}.template-buttons{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-2)}.template-button{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-1);padding:var(--spacing-2) var(--spacing-1);background:var(--color-background);border:1px solid var(--color-border);border-radius:var(--border-radius-md);cursor:pointer;transition:all .2s ease-in-out;font-size:var(--font-size-xs);min-height:60px}.template-button:hover{background:var(--color-background-secondary);border-color:var(--color-primary);transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.template-button:active{transform:translateY(0);box-shadow:0 1px 2px #0000001a}.template-emoji{font-size:18px;line-height:1}.template-name{font-weight:500;color:var(--color-text-primary);text-align:center;line-height:1.2}.template-button:hover .template-name{color:var(--color-primary)}.save-load-buttons{display:flex;flex-direction:column;gap:var(--spacing-1)}.save-button,.load-button{background:linear-gradient(135deg,var(--color-primary) 0%,var(--color-primary-dark, #0056b3) 100%);color:#fff;border:none;border-radius:var(--border-radius-lg);padding:var(--spacing-3) var(--spacing-4);font-size:var(--font-size-sm);font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);width:100%;display:flex;align-items:center;justify-content:center;gap:var(--spacing-2);position:relative;overflow:hidden}.save-button:before,.load-button:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.save-button:hover:before,.load-button:hover:before{left:100%}.save-button:hover,.load-button:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0056b34d}.save-button:active,.load-button:active{transform:translateY(0)}.save-button:focus,.load-button:focus{outline:2px solid var(--color-primary);outline-offset:2px}.button-icon{width:18px;height:18px;flex-shrink:0}.load-button-container{position:relative}.load-button.active{background:linear-gradient(135deg,var(--color-primary-dark, #0056b3) 0%,var(--color-primary) 100%);box-shadow:0 4px 15px #0056b366}.dropdown-arrow{width:16px;height:16px;transition:transform .2s ease}.load-button.active .dropdown-arrow{transform:rotate(180deg)}.load-menu{position:absolute;top:calc(100% + var(--spacing-2));left:0;right:0;background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--border-radius-lg);box-shadow:0 10px 40px #00000026;z-index:1000;animation:slideDown .2s cubic-bezier(.4,0,.2,1);max-height:300px;overflow-y:auto}@keyframes slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.menu-header{padding:var(--spacing-3) var(--spacing-4);border-bottom:1px solid var(--color-border);display:flex;justify-content:space-between;align-items:center;background:var(--color-surface-light, #f8f9fa);border-radius:var(--border-radius-lg) var(--border-radius-lg) 0 0}.menu-header span{font-weight:600;color:var(--color-text-primary);font-size:var(--font-size-sm)}.menu-header small{color:var(--color-text-secondary);font-size:var(--font-size-xs);background:var(--color-primary-light);padding:var(--spacing-1) var(--spacing-2);border-radius:var(--border-radius-md)}.empty-state{padding:var(--spacing-6) var(--spacing-4);text-align:center;color:var(--color-text-secondary)}.empty-icon{width:48px;height:48px;margin:0 auto var(--spacing-3);opacity:.5}.empty-state span{display:block;font-weight:500;margin-bottom:var(--spacing-1)}.empty-state small{font-size:var(--font-size-xs);opacity:.7}.save-slots{padding:var(--spacing-2)}.save-slot{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-3);margin:var(--spacing-1) 0;border-radius:var(--border-radius-md);cursor:pointer;transition:all .2s ease;border:1px solid transparent}.save-slot:hover{background:var(--color-primary-light);border-color:var(--color-primary);transform:translate(4px)}.slot-info{flex:1;min-width:0}.slot-name{display:block;font-weight:600;color:var(--color-text-primary);font-size:var(--font-size-sm);margin-bottom:var(--spacing-1);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slot-time{display:block;font-size:var(--font-size-xs);color:var(--color-text-secondary)}.delete-slot{background:none;border:none;color:var(--color-text-secondary);cursor:pointer;padding:var(--spacing-1);border-radius:var(--border-radius-sm);transition:all .2s ease;opacity:.6}.delete-slot:hover{background:var(--color-error-light, #fee);color:var(--color-error, #dc3545);opacity:1}.delete-slot svg{width:16px;height:16px}.save-dialog-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:2000;animation:fadeIn .2s ease}.save-dialog{background:var(--color-surface);border-radius:var(--border-radius-xl);box-shadow:0 20px 60px #0000004d;width:90%;max-width:400px;animation:slideUp .3s cubic-bezier(.4,0,.2,1)}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.dialog-header{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-4) var(--spacing-4) var(--spacing-3);border-bottom:1px solid var(--color-border)}.dialog-header h3{margin:0;font-size:var(--font-size-lg);font-weight:600;color:var(--color-text-primary)}.close-dialog{background:none;border:none;color:var(--color-text-secondary);cursor:pointer;padding:var(--spacing-1);border-radius:var(--border-radius-sm);transition:all .2s ease}.close-dialog:hover{background:var(--color-surface-light, #f8f9fa);color:var(--color-text-primary)}.close-dialog svg{width:20px;height:20px}.dialog-content{padding:var(--spacing-4)}.dialog-content label{display:block;font-weight:500;color:var(--color-text-primary);margin-bottom:var(--spacing-2);font-size:var(--font-size-sm)}.dialog-content input{width:100%;padding:var(--spacing-3);border:2px solid var(--color-border);border-radius:var(--border-radius-md);font-size:var(--font-size-sm);transition:all .2s ease;box-sizing:border-box}.dialog-content input:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px #0056b31a}.dialog-content input::placeholder{color:var(--color-text-secondary);opacity:.7}.dialog-actions{display:flex;gap:var(--spacing-3);padding:var(--spacing-3) var(--spacing-4) var(--spacing-4);border-top:1px solid var(--color-border)}.cancel-button,.confirm-button{flex:1;padding:var(--spacing-3);border:none;border-radius:var(--border-radius-md);font-weight:500;cursor:pointer;transition:all .2s ease;font-size:var(--font-size-sm)}.cancel-button{background:var(--color-surface-light, #f8f9fa);color:var(--color-text-primary);border:1px solid var(--color-border)}.cancel-button:hover{background:var(--color-border)}.confirm-button{background:var(--color-primary);color:#fff}.confirm-button:hover:not(:disabled){background:var(--color-primary-dark, #0056b3);transform:translateY(-1px)}.confirm-button:disabled{background:var(--color-text-secondary);cursor:not-allowed;transform:none}@media (max-width: 480px){.save-dialog{width:95%;margin:var(--spacing-4)}.dialog-actions{flex-direction:column}}.settings-modal-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:1000;display:flex;align-items:center;justify-content:center;padding:2rem;animation:fadeIn .2s ease-out}.settings-modal{background:#fff;border-radius:16px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;max-width:500px;width:100%;max-height:80vh;display:flex;flex-direction:column;outline:none;animation:slideIn .25s ease-out}.settings-header{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem 1rem;border-bottom:1px solid #f1f5f9}.settings-title{margin:0;font-size:1.5rem;font-weight:600;color:#1e293b}.settings-close-btn{background:none;border:none;font-size:1.5rem;color:#64748b;cursor:pointer;padding:.25rem;border-radius:4px;transition:all .15s ease;line-height:1;width:32px;height:32px;display:flex;align-items:center;justify-content:center}.settings-close-btn:hover{background:#f1f5f9;color:#374151}.settings-content{flex:1;padding:1rem 2rem;overflow-y:auto}.settings-section{margin-bottom:2rem}.settings-section:last-child{margin-bottom:0}.settings-section-title{margin:0 0 1rem;font-size:1.1rem;font-weight:600;color:#374151}.settings-item{display:flex;align-items:flex-start;justify-content:space-between;gap:1rem;padding:1rem 0;border-bottom:1px solid #f8fafc}.settings-item:last-child{border-bottom:none}.settings-item-info{flex:1}.settings-label{display:block;font-weight:500;color:#1e293b;margin-bottom:.25rem;cursor:pointer}.settings-description{margin:0;font-size:.875rem;color:#64748b;line-height:1.5}.settings-control{flex-shrink:0}.settings-number-input{width:80px;padding:.5rem .75rem;border:1px solid #d1d5db;border-radius:6px;font-size:.875rem;color:#374151;background:#fff;transition:all .15s ease}.settings-number-input:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.settings-number-input:hover{border-color:#9ca3af}.toggle-switch{position:relative;display:inline-block;width:48px;height:24px;cursor:pointer}.toggle-switch input{opacity:0;width:0;height:0}.toggle-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#cbd5e1;border-radius:12px;transition:all .25s ease}.toggle-slider:before{position:absolute;content:"";height:20px;width:20px;left:2px;bottom:2px;background-color:#fff;border-radius:50%;transition:all .25s ease;box-shadow:0 2px 4px #0000001a}.toggle-switch input:checked+.toggle-slider{background-color:#3b82f6}.toggle-switch input:checked+.toggle-slider:before{transform:translate(24px)}.toggle-switch:hover .toggle-slider{box-shadow:0 0 0 8px #3b82f61a}.settings-footer{display:flex;justify-content:flex-end;gap:.75rem;padding:1rem 2rem 1.5rem;border-top:1px solid #f1f5f9}.settings-btn{padding:.5rem 1rem;border-radius:8px;font-weight:500;font-size:.875rem;cursor:pointer;transition:all .15s ease;border:1px solid transparent}.settings-btn-secondary{background:#fff;color:#64748b;border-color:#d1d5db}.settings-btn-secondary:hover{background:#f8fafc;color:#374151;border-color:#9ca3af}.settings-btn-primary{background:#3b82f6;color:#fff}.settings-btn-primary:hover{background:#2563eb}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@media (max-width: 640px){.settings-modal-backdrop{padding:1rem}.settings-modal{max-width:none}.settings-header{padding:1rem 1.5rem .75rem}.settings-content{padding:.75rem 1.5rem}.settings-footer{padding:.75rem 1.5rem 1rem}.settings-item{flex-direction:column;align-items:flex-start;gap:.75rem}.settings-control{align-self:flex-end}}:root{--color-background: #f8f9fa;--color-surface: #ffffff;--color-primary: #3b82f6;--color-primary-light: #dbeafe;--color-text-primary: #1e293b;--color-text-secondary: #64748b;--color-border: #e2e8f0;--font-family-sans: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", sans-serif;--font-family-mono: "Fira Code", "Monaco", "Menlo", "Ubuntu Mono", monospace;--font-size-xs: .75rem;--font-size-sm: .875rem;--font-size-base: 1rem;--font-size-md: 1.05rem;--font-size-lg: 1.125rem;--font-size-xl: 1.25rem;--font-size-2xl: 1.5rem;--spacing-1: .25rem;--spacing-2: .5rem;--spacing-4: 1rem;--spacing-6: 1.5rem;--spacing-8: 2rem;--spacing-10: 2.5rem;--spacing-12: 3rem;--border-radius-md: .375rem;--border-radius-lg: .5rem;--border-radius-xl: .75rem;--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / .05);--shadow-md: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--variable-highlight-declaration-bg: rgba(59, 130, 246, .2);--variable-highlight-reference-bg: rgba(59, 130, 246, .1)}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}body{font-family:var(--font-family-sans);line-height:1.6;color:var(--color-text-primary);background-color:var(--color-background);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga","kern";min-height:100vh}ol,ul{list-style:none}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}p,h1,h2,h3,h4,h5,h6{overflow-wrap:break-word}.app{display:flex;flex-direction:column;min-height:100vh}.app-main{flex:1;width:100%}.editor-card-container{background-color:var(--color-surface);border-radius:var(--border-radius-xl);box-shadow:var(--shadow-lg);border:1px solid var(--color-border);padding:var(--spacing-2);min-height:500px;display:flex;flex-direction:column}.sidebar-container{display:flex;flex-direction:column;gap:var(--spacing-4)}.main-grid-layout{display:grid;grid-template-columns:3fr 1fr;gap:var(--spacing-8);align-items:flex-start}@media (max-width: 1024px){.main-grid-layout{grid-template-columns:1fr}}@media (max-width: 480px){.editor-card-container{padding:var(--spacing-4)}}
