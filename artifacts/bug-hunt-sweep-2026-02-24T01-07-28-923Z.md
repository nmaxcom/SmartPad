# Syntax Bug-Hunt Sweep

- Generated at: 2026-02-24T01:07:28.923Z
- Suites: 5
- Cases: 47
- Result types: {"none":3,"mathResult":25,"variable":4,"error":15}

## lists-and-punctuation

| ID | Title | Input | Node | Result Type | Output |
|---|---|---|---|---|---|
| L1 | double comma inside list literal | `1,,2=>` | expression | none |  |
| L2 | blank list element with spaces | `1, ,2=>` | expression | none |  |
| L3 | missing conversion target after to | `1,2 to =>` | expression | mathResult | 1 to, 2 tos |
| L4 | double conversion suffix chain | `1,2,3 to $ in EUR=>` | expression | none |  |
| L5 | trailing comma in explicit list output | `1,2,3,=>` | expression | mathResult | 1, 2, 3 |
| L6 | list assignment compact syntax | `xs=1,2,3` | variableAssignment | variable | xs = 1, 2, 3 |
| L7 | where filter valid operator | `xs where >= 2=>` | expression | mathResult | 2, 3 |
| L8 | where filter malformed operator accepted? | `xs where >== 2=>` | expression | mathResult | 2, 3 |
| L9 | aggregator called with no arguments | `sum()=>` | expression | mathResult | 0 |
| L10 | average called with no arguments | `avg()=>` | expression | mathResult | 0 |
| L11 | aggregator with variadic scalar args | `sum(1,2,3)=>` | expression | mathResult | 6 |
| L12 | aggregator with tuple-like list arg | `sum((1,2,3))=>` | expression | mathResult | 6 |

## dates-ranges-locale

| ID | Title | Input | Node | Result Type | Output |
|---|---|---|---|---|---|
| D1 | descending date range with positive step | `2026-01-05..2026-01-01 step 1 day=>` | expression | mathResult | 2026-01-05, 2026-01-04, 2026-01-03, 2026-01-02, 2026-01-01 |
| D2 | descending date range with negative step | `2026-01-05..2026-01-01 step -1 day=>` | expression | error | 2026-01-05..2026-01-01 step -1 day => ⚠️ Invalid range expression near "2026-01-05..2026-01-01 step -1 day" |
| D3 | descending time range with positive step | `09:00..08:00 step 30 min=>` | expression | mathResult | 09:00, 08:30, 08:00 |
| D4 | descending time range with negative step | `09:00..08:00 step -30 min=>` | expression | error | 09:00..08:00 step -30 min => ⚠️ Invalid range expression near "09:00..08:00 step -30 min" |
| D5 | date step with compact hour unit | `2026-01-01..2026-01-03 step 25h=>` | expression | error | 2026-01-01..2026-01-03 step 25h => ⚠️ Date/time ranges require a duration step (e.g., step 1 day) |
| D6 | invalid iso date literal normalization | `2024-02-30=>` | error | error | 2024-02-30=> ⚠️ Expression parse error: Invalid date/time value |
| D7 | invalid slash date literal normalization | `13/13/2024=>` | expression | error | 13/13/2024 => ⚠️ Invalid date literal |
| D8 | slash date locale behavior without explicit locale | `06/05/2024=>` | expression | mathResult | 2024-06-05 |
| D9 | triple-dot typo handling | `1...5=>` | expression | mathResult | 1, 2, 3, 4, 5 |

## math-functions-solver

### Setup

- `f(x)=x^2` -> text: (empty)
- `g(x,y=2)=x*y` -> text: (empty)
- `distance=v*time` -> variable: distance = v * time

| ID | Title | Input | Node | Result Type | Output |
|---|---|---|---|---|---|
| M1 | function call without parentheses | `sqrt 16=>` | expression | error | sqrt 16 => ⚠️ Cannot solve: no equation found for "sqrt 16" |
| M2 | trailing comma in function args | `round(PI,)=>` | expression | mathResult | 3 |
| M3 | trailing comma after positional arg with default | `g(3,)=>` | expression | mathResult | 6 |
| M4 | named args out of order | `g(y:3, x:2)=>` | expression | mathResult | 6 |
| M5 | unknown named arg rejection | `g(x:2, z:3)=>` | expression | error | g(x:2, z:3) => ⚠️ Unknown argument: z |
| M6 | explicit solve with zero denominator | `solve v in distance = v * time, time=0=>` | expression | mathResult | distance / 0 |
| M7 | assign scalar zero for time | `time=0` | variableAssignment | variable | time = 0 |
| M8 | assign unit value for distance | `distance=10m` | variableAssignment | variable | distance = 10 m |
| M9 | assign zero seconds | `time=0s` | variableAssignment | variable | time = 0 s |
| M10 | implicit solve with distance and zero time | `v=>` | expression | mathResult | 10 m / 0 s |

## units-and-aliases

### Setup

- `ksec=1000s` -> variable: ksec = 16 min 40 s
- `speed=9m/s` -> variable: speed = 9 m/s
- `m=2` -> variable: m = 2

| ID | Title | Input | Node | Result Type | Output |
|---|---|---|---|---|---|
| U1 | conversion target with zero denominator | `speed to m/(0 s)=>` | expression | mathResult | 0 m/(0 s) |
| U2 | scaled denominator conversion target | `speed to m/(1000 s)=>` | expression | mathResult | 9000 m/(1000 s) |
| U3 | unit alias conversion (singular) | `1ksec to s=>` | expression | mathResult | 1000 s |
| U4 | unit alias conversion (plural) | `2 ksecs to s=>` | expression | mathResult | 2000 s |
| U5 | data rate conversion bytes to bits | `1MB/s to Mbit/s=>` | expression | mathResult | 8 Mbit/s |
| U6 | data rate conversion bits to bytes | `1Mbps to MB/s=>` | expression | mathResult | 0.125 MB/s |
| U7 | derived-unit conversion target rendering | `1N to kg*m/s^2=>` | expression | mathResult | 1 N |
| U8 | implicit multiplication with unit in parentheses | `2(3m)=>` | expression | error | 2(3m) => ⚠️ Unexpected token: ( |
| U9 | grouped implicit multiplication unit*scalar | `(2m)(3)=>` | expression | error | (2m)(3) => ⚠️ Unexpected token: ( |
| U10 | grouped implicit multiplication unit*unit | `(2m)(3m)=>` | expression | error | (2m)(3m) => ⚠️ Unexpected token: ( |
| U11 | alias collision with variable named m | `m/s=>` | expression | error | m/s => ⚠️ Cannot divide number and unit: cannot divide dimensionless number by unit
  Left operand: 2 (number)
  Right operand: 1 s (unit) |

## cross-feature-chaining

### Setup

- `costs=10,20,30 to $` -> variable: costs = $10, $20, $30
- `tax=8%` -> variable: tax = 8%
- `r=2m,4m,6m` -> variable: r = 2 m, 4 m, 6 m
- `f(x)=x*2` -> text: (empty)

| ID | Title | Input | Node | Result Type | Output |
|---|---|---|---|---|---|
| X1 | nested where inside aggregator | `sum(costs where > $15)=>` | expression | error | sum(costs where > $15) => ⚠️ where() expects a list, got number |
| X2 | percentage-on over aggregator result | `tax on sum(costs)=>` | expression | mathResult | tax on sum(costs) |
| X3 | nested function + list conversion + sum | `f(sum(r to cm))=>` | expression | error | f(sum(r to cm)) => ⚠️ Error in f: Missing argument: x |
| X4 | parenthesized range annotation then conversion | `(1..5 to m) to cm=>` | expression | error | (1..5 to m) to cm => ⚠️ Invalid range expression near "(1..5 to m) to cm" |
| X5 | parenthesized range annotation then where filter | `(1..5 to m) where > 2m=>` | expression | error | (1..5 to m) where > 2m => ⚠️ Invalid range expression near "(1..5 to m) where > 2m" |

